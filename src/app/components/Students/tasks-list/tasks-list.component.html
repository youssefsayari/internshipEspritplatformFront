<div class="panel-header panel-header-sm"></div>

<!-- Section Title -->
<h2 class="task-title">ğŸ—‚ï¸ My Tasks</h2>

<div class="task-container">
  <div
    class="task-box"
    *ngFor="let status of statuses"
    [id]="status"
    cdkDropList
    [cdkDropListData]="getTasksByStatus(status)"
    [cdkDropListConnectedTo]="statuses"
    (cdkDropListDropped)="onTaskDrop($event, status)"
  >
    <h3>
      <i class="{{ iconForStatus(status) }}"></i>
      {{ statusLabel(status) }}
    </h3>

    <div
      class="task"
      *ngFor="let task of getTasksByStatus(status)"
      cdkDrag
      [cdkDragData]="task"
      [ngClass]="{
        'todo': task.status === 'TODO',
        'inprogress': task.status === 'INPROGRESS',
        'done': task.status === 'DONE'
      }"
    >
      <h4>{{ task.title }}</h4>
      <div class="task-top">
        <p *ngIf="task.status === 'DONE' && task.mark !== undefined" class="task-note">
          â­ <strong>Mark:</strong> {{ task.mark }}/100
        </p>
                </div>
      <p>{{ task.description }}</p>
    </div>

    <div *ngIf="getTasksByStatus(status).length === 0" class="no-tasks">
      <em>No tasks available.</em>
    </div>
  </div>
</div>
